<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>支付成功</title>
    <script type="text/javascript">
        //获取Location对象的search属性值
        var searchStr = location.search;
        //由于searchStr属性值包括“?”，所以除去该字符
        searchStr = searchStr.substr(1);
        //alert(searchStr);
        //将searchStr字符串分割成数组，数组中的每一个元素为一个参数和参数值
        var searchs = searchStr.split("&");
        //alert(searchs);
        //获得第一个参数和值
        var WIDout_trade_no = searchs[1].split("=");
        //alert(WIDout_trade_no);
        var t=5;//设定跳转的时间
        setInterval("refer()",1000); //启动1秒定时
        function refer(){
            if(t===0){
                location="pay/return?WIDout_trade_no="+WIDout_trade_no; //#设定跳转的链接地址

            }
            if(t>-1){
                document.getElementById('show').innerHTML=""+t+""; // 显示倒计时
                t--; // 计数器递减
            }

        }
    </script>
</head>
<body>
<p align="center">支付成功</p>
</div><p align="center">页面将在<span id="show" style="color: red"></span>秒后自动跳转</p>
</body>
</html>